{"version":3,"sources":["./src/app/pages/home/home.component.ts","./src/app/pages/home/home.component.html","./src/app/login/services/auth.service.ts","./src/app/pages/home/home.module.ts","./src/app/pages/home/home-routing.module.ts","./src/app/shared/services/noti.service.ts"],"names":[],"mappings":"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","file":"home-home-module.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { AuthService } from '../../login/services/auth.service';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: './home.component.html',\r\n  styleUrls: ['./home.component.scss']\r\n})\r\nexport class HomeComponent implements OnInit {\r\n\r\n  user: firebase.default.User;\r\n\r\n  constructor(private auth: AuthService,\r\n    private router: Router) { }\r\n\r\n  ngOnInit(): void {\r\n    this.auth.getUserState()\r\n      .subscribe(user => {\r\n        this.user = user;\r\n        // get current user using app\r\n        console.log(\"user: \", user)\r\n      })\r\n\r\n  }\r\n\r\n  logIn() {\r\n    this.router.navigate(['/login'])\r\n  }\r\n\r\n  logOut() {\r\n    this.auth.logOut();\r\n  }\r\n\r\n  register() {\r\n    this.router.navigate(['/register'])\r\n  }\r\n\r\n}\r\n","<p>home works!</p>\r\n\r\n<p *ngIf=\"user\">Logged in as: {{user?.email}} - {{user?.displayName}}</p>","import { Injectable } from '@angular/core';\n\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { Router } from '@angular/router';\nimport { BehaviorSubject } from 'rxjs';\n\nimport { NotificationsService } from '../../shared/services/noti.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n\n  private eventAuthError = new BehaviorSubject<string>(\"\");\n  eventAuthError$ = this.eventAuthError.asObservable();\n  newUser: any;\n\n  constructor(\n    private auth: AngularFireAuth,\n    private database: AngularFirestore,\n    private router: Router,\n    private notiService: NotificationsService\n  ) { }\n\n  getUserState() {\n    return this.auth.authState;\n  }\n\n  createUser(user) {\n    this.auth.createUserWithEmailAndPassword(user.email, user.password)\n      .then(userCredential => {\n        this.newUser = user;\n        console.log(userCredential)\n\n        userCredential.user.updateProfile(\n          {\n            displayName: user.fullName\n          }\n        );\n\n        this.insertUserData(userCredential)\n          .then(() => {\n            // Successfully create a user\n            this.router.navigate(['/login'])\n          })\n      })\n      .catch((err) => {\n        this.eventAuthError.next(err);\n      })\n\n  }\n\n  insertUserData(userCredential: firebase.default.auth.UserCredential) {\n    return this.database.doc(`Users/${userCredential.user.uid}`).set({\n      email: this.newUser.email,\n      fullName: this.newUser.fullName,\n      phone: this.newUser.phone,\n      address: this.newUser.address,\n    })\n  }\n\n  logIn(email: string, password: string) {\n    this.auth.signInWithEmailAndPassword(email, password)\n      .catch(err => {\n        this.eventAuthError.next(err)\n      })\n      .then(userCredential => {\n        if (userCredential) {\n          this.router.navigate(['/pages/profile'])\n          console.log(\"successfully logged in  \", userCredential)\n          this.notiService.success(\"Chào mừng \" + userCredential.user.displayName)\n        }\n      })\n  }\n\n  logOut() {\n    return this.auth.signOut();\n  }\n\n  resetPassword(email: string) {\n    return this.auth.sendPasswordResetEmail(email)\n      .catch(err => {\n        this.eventAuthError.next(err);\n      })\n      .then(() => {\n        console.log(\"sent email reset password!\")\n      })\n  }\n\n\n}\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport {SharedModule} from '../../shared/shared.module';\r\nimport {HomeComponent} from './home.component';\r\nimport {HomeRoutingModule} from './home-routing.module';\r\n\r\n@NgModule({\r\n  declarations: [HomeComponent],\r\n  imports: [\r\n    CommonModule,\r\n    SharedModule,\r\n    HomeRoutingModule\r\n  ]\r\n})\r\nexport class HomeModule { }\r\n","import { NgModule } from \"@angular/core\";\r\nimport { Routes, RouterModule } from \"@angular/router\";\r\nimport { HomeComponent } from \"./home.component\";\r\nconst routes: Routes = [\r\n  {\r\n    path: \"\",\r\n    component: HomeComponent,\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class HomeRoutingModule {}\r\n","import { Injectable } from '@angular/core';\r\nimport { MatSnackBar, MatSnackBarConfig } from '@angular/material/snack-bar'\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class NotificationsService {\r\n\r\n    constructor(public snackBar: MatSnackBar) { }\r\n\r\n    config: MatSnackBarConfig = {\r\n        duration: 3000,\r\n        horizontalPosition: 'right',\r\n        verticalPosition: 'top'\r\n    }\r\n\r\n\r\n    success(msg) {\r\n        this.config['panelClass'] = ['notification', 'success'];\r\n        this.snackBar.open(msg, '', this.config);\r\n    }\r\n\r\n    warn(msg) {\r\n        this.config['panelClass'] = ['notification', 'warn'];\r\n        this.snackBar.open(msg, '', this.config);\r\n    }\r\n}\r\n"],"sourceRoot":"webpack:///"}